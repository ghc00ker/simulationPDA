# 样例框架说明

本框架为 2025年 秋季《形式语言与自动机》课程的样例框架。助教们将使用该框架对同学们的程序进行测试，请确保你的工程可以使用该框架编译。

## 测试环境参考

本框架依赖于 cmake 进行编译，需安装 3.23.0 或以上版本 cmake 方可使用。其它：

- 请使用 Linux
- 测试环境里 g++ 版本为 13.3.0

## 使用方法

本框架使用方法：

1. 将所有 `.h` 及 `.cpp` 文件置于 `/pda-project`文件夹下，或者将该框架的 `CMakeLists.txt` 复制至你的工程根目录
2. 在工程根目录处，使用指令 `cmake -B build`
3. 在工程根目录处，使用指令 `cd ./build; make`

对于任务一，我们的测试框架将使用上述两条指令对工程进行编译。执行完毕后，在工程根目录下应当出现 `/bin` 文件夹，其中含有可执行文件 `pda`，测试框架将对该可执行文件进行测试。

对于任务二，请将括号匹配PDA文件 `case.pda` 直接放置于项目根目录

**注意事项**：
提交时，你的工程根目录下应当有一个 `CMakeLists.txt` 文件用于指导 cmake 进行编译，且通过这种方式能够在 `/bin` 文件夹下生成可执行文件 `pda`。请注意提交时不要附带相关 cmake cache 信息 (如 `/build`)，确保 cmake 能够重新生成Makefile。

- 可以修改 `CMakeLists.txt`，只要确保我们能够按照上述命令测试
  - 请不要修改 `cmake_minimum_required(VERSION 3.23.0)`

## 在线编译测试

我们会在 11 月 25 日左右开放测试接口，到时会在群里通知具体方法，请稍作等待。

## 打包与提交

将文件打包为如下结构：

```plain
学号_姓名_FLA25proj2.zip
    |- CMakeLists.txt
    |- README.md
    |- case.pda
    |- pda-project
        |- main.cpp
        |- ...
```

而非：

```plain
学号_姓名_FLA25proj2.zip
    |- 学号_姓名_FLA25proj2
        |- CMakeLists.txt
        |- README.md
        |- case.pda
        |- pda-project
            |- main.cpp
            |- ...
```

提交到 https://box.nju.edu.cn/u/d/f6e635c6f64f45f897c5/
## PDA和DPDA的区别
1. 对于任意状态 qq，输入符号 aa 以及栈符号 XX，最多只有一种移动的选择。
2. 此外，在使用 ε 和实际选择之间，不应当存在选择关系。形式化表述，就是 δ(q,a,X)δ(q,a,X) 和 δ(q,ε,X)δ(q,ε,X) 不可以同时非空。
与 NFA 和 DFA 等价不同的是，NPDA 要比 DPDA 在表达能力上更强一些。
## PDA::run()
PDA::run()用于进行PDA的membership testing。接受字符串比较简单，关键在于怎么拒绝。下面是两种拒绝的情况
### 未能找到转移函数
input先设置为空，若没有找到转移函数则input为读取的字符，指针i加一。若仍然没有找到转移函数，返回false。

### 陷入死循环

如果发生死循环，则这个死循环的读取一定为空，并且栈保持不变，状态保持不变。因此维护一个his的数据记录，分别记录当前的字符指针i，状态，整个栈。若有重复的记录则说明发生了死循环，返回false。


如果有其他想法，或者有问题，欢迎讨论！